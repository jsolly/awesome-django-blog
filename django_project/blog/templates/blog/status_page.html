{% extends "blog/parts/base.html" %}
{% load static %}
{% load humanize %}



{% block content %}
<div class="status-page-container">
  <h1 class="title">Blogthedata.com Status Report</h1>
  <div class="status-section">
    <h2>Blog Status</h2>
    <p>Status: {{ status }} {% if status == "up" %}ðŸŸ¢{% else %}ðŸ”´{% endif %}</p>
    <p>Message: {{ message }}</p>
    <p>Last Updated: {{ updated_at }}</p>
    <hr>
  </div>
  <div class="postgres-metrics">
    <h2>Postgres</h2>
    <p>Active Connections: {{ postgres_active_connections }}</p>
    <p>Slow Queries: {{ postgres_slow_queries }}</p>
    <p>Disk Space Used: {{ postgres_disk_space_used }} MB</p>
  </div>
  <div class="system-metrics">
    <h2>System</h2>
    <p>Uptime: {{ server_uptime }}</p>
    <p>CPU Usage: {{ cpu_usage_percent }}% <span
        class="badge {% if cpu_usage_percent > 80 %}badge-danger{% else %}badge-success{% endif %}"> {% if cpu_usage_percent > 80 %}ðŸ”¥{% else %}âœ…{% endif %}</span></p>
    <p>RAM Usage: {{ ram_used|intcomma }} MB / {{ ram_total|intcomma }} MB ({{ ram_percentage }}%)</p>
    <p>Disk Usage: {{ disk_usage }}</p>
  </div>
</div>
<div id="hello" style="width: 600px; height: 400px;"></div>

<script src="{% static 'js/charts/echarts.js' %}" defer></script>
<script src="{% static 'js/charts/CPU_gauge.js' %}" defer></script>

{% endblock %}