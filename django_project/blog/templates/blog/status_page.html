{% extends "blog/parts/base.html" %}
{% load static %}
{% load humanize %}

{% block head %}
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<link href="{% static 'css/status_page.css' %}" rel="stylesheet">

{% endblock head %}

{% block content %}
<div class="grid-container">
  <h1 class="title">Blogthedata.com Status Report</h1>
  <div class="status-section">
    <h2>Blog Status</h2>
    <p>Status: {{ status }} {% if status == "up" %}ðŸŸ¢{% else %}ðŸ”´{% endif %}</p>
    <p>Message: {{ message }}</p>
    <p>Last Updated: {{ updated_at }}</p>
    <hr>
  </div>
  <div class="postgres-metrics">
    <h2>Postgres Metrics</h2>
    <p>Active Connections: {{ postgres_active_connections }}</p>
    <p>Slow Queries: {{ postgres_slow_queries }}</p>
    <p>Disk Space Used: {{ postgres_disk_space_used }} MB</p>
  </div>
  <div class="system-metrics">
    <h2>System Metrics</h2>
    <p>Uptime: {{ server_uptime }}</p>
    <p>CPU Usage: {{ cpu_usage_percent }}% <span
        class="badge {% if cpu_usage_percent > 80 %}badge-danger{% else %}badge-success{% endif %}"> {% if cpu_usage_percent > 80 %}ðŸ”¥{% else %}âœ…{% endif %}</span></p>
    <p>RAM Usage: {{ ram_used|intcomma }} MB / {{ ram_total|intcomma }} MB ({{ ram_percentage }}%)</p>
    <p>Disk Usage: {{ disk_usage }}</p>
  </div>
</div>
{% endblock %}