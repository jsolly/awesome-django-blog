{% load static %} {% load sri %}
<!DOCTYPE html>
<html lang="en-US">

<head>
  <title>
    {% block title %}Geospatial Web Development{% endblock title %}
  </title>
  {% block head %} {% endblock head %}
  <!-- Meta -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <meta name="author" content="John Solly">
  {% block meta %} {% endblock meta %}

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="{% static 'favicon/apple-touch-icon.webp' %}">
  <link rel="icon" type="image/webp" sizes="32x32" href="{% static 'favicon/favicon-32x32.webp' %}">
  <link rel="icon" type="image/webp" sizes="16x16" href="{% static 'favicon/favicon-16x16.webp' %}">
  <link rel="icon" type="image/webp" sizes="512x512" href="{% static 'favicon/android-chrome-512x512.webp' %}">
  <link rel="icon" type="image/webp" sizes="512x512" href="{% static 'favicon/android-chrome-192x192.webp' %}">
  <link rel="icon" type="image/webp" sizes="48x48" href="{% static 'favicon/favicon.ico' %}">

  <!-- Bootstrap -->
  {% sri_static 'bootstrap/bootstrap.min.css' %}
  {% sri_static 'bootstrap/bootstrap.bundle.min.js' %}

  <!-- My CSS -->
  {% sri_static 'css/main.css' %}

  <!-- HTMX -->
  {% sri_static 'js/htmx.min.js' %}

  <!-- ChatBox JS -->
  {% sri_static 'js/chatbox.js' %}

  <!-- My JS -->
  {% sri_static 'js/utils.js' %}

</head>

<div class="container">
  <div class="chatbox">
    <div class="chatbox__support">
      <div class="chatbox__header">
        <div class="chatbox__image--header">
          <img src="{% static 'svg/man-avatar.svg' %}" alt="image">
        </div>
        <div class="chatbox__content--header">
          <h4 class="chatbox__heading--header">Ask a Question</h4>
          <p class="chatbox__description--header">Hi, I'm Ezra! How can I help you?</p>
        </div>
      </div>
      <div class="chatbox__messages"></div>
      <div class="chatbox__footer">
        <form id="chatbox-submit">
          {% csrf_token %}
          <textarea name="question-text-area" id="question-text-area" placeholder="Write a message..."
            hx-trigger="keyup[key === 'Enter' && !shiftKey]" hx-post="/answer-with-gpt/"
            hx-include="#question-text-area" hx-target=".chatbox__messages" hx-swap="afterbegin"></textarea>
          <button class="chatbox__send--footer send__button" hx-post="/answer-with-gpt/"
            hx-include="#question-text-area" hx-target=".chatbox__messages" hx-swap="afterbegin">Send</button>
        </form>
      </div>
    </div>
    <div class="chatbox__button">
      <button><img src="{% static 'svg/chatbox-icon.svg' %}" /></button>
    </div>
  </div>
</div>

<body>
  <a href="{% url 'all-posts' %}" class="hidden-link">All Posts (Paginated)</a>
  <a id='skip-nav' class='screenreader-text' href='#main'>
    Skip to content
  </a>
  {% include "blog/parts/header.html" %}
  <div class="container">
    <div class="row">
      <nav class="col-lg-3 mb-5" aria-label="Sidebar Navigation">
        <!--Sidebar-->
        {% include "blog/parts/sidebar.html" %}
      </nav>
      <div id="content-area" class="col-lg-9 fs-5">
        {% if messages %} {% for message in messages %} Removed due to caching issue persisting message
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %} {% endif %}
        <main id="main">
          <div id="top">
            <div id="breadcrumbs-container">
              {% include "blog/parts/breadcrumbs.html" %}
            </div>
          </div>
          {% block content %}
          {% endblock content %}
        </main>
        <div id="scroll-to-top-container" class="float-end">
          <a id="scroll-to-top" href="#">
            <img src="{% static 'svg/scroll-to-top.svg' %}" width="45" height="45" alt="Scroll to top of page">
            top</a>
        </div>
        <!--Footer-->
        <footer>
          {% include "blog/parts/footer.html" %}
        </footer>
      </div>
    </div>
  </div>
</body>

</html>