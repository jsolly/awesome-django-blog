{% for post in posts %}
  {% include "blog/parts/post_card.html" %}
  {% if forloop.last %}
    {% if page_obj.has_next %}
      {% if not page_obj.number|divisibleby:"3" %}
        <div hx-get="{{ url }}?page={{ page_obj.number|add:1 }}" hx-trigger="revealed" hx-swap="afterend" hx-target="this" rel="next"></div>
      {% endif %}
      {% if page_obj.number|divisibleby:"3" %}
        <div class="text-center mb-5">
          <button class="btn-primary btn" id="see-more-btn" hx-get="{{ url }}?page={{ page_obj.number|add:1 }}" hx-trigger="click" hx-swap="outerHTML" hx-target="this" rel="next">Load More Posts</button>
        </div>
      {% endif %}
    {% endif %}
  {% endif %}
{% endfor %}
